(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[7],{e627:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.resources?s("div",[s("q-img",{staticClass:"q-mb-md",staticStyle:{"object-fit":"scale-down"},attrs:{src:t.$axios.defaults.baseURL+t.resources.imageUrl}}),s("div",{staticClass:"q-pa-md"},[s("div",{staticClass:"text-h5 text-weight-bold flex justify-center q-mb-sm"},[t._v(t._s(t.resources.name))]),t._m(0),s("div",{staticClass:"flex justify-start  q-mb-lg"},[s("q-avatar",{staticClass:"q-mr-md"},[s("img",{attrs:{src:t.resources.author.avatar,alt:""}})]),s("div",{staticClass:"flex column"},[s("span",{staticClass:"text-h6"},[t._v(t._s(t.resources.author.username))]),s("span",{staticClass:"text-weight-light",staticStyle:{"font-size":"0.5em"}},[t._v(t._s(t.$moment(t.resources.timestamp).format("YYYY-MM-DD")))])]),s("q-space"),s("q-btn",{attrs:{outline:"",color:"primary",label:"关注"},on:{click:t.test}})],1),s("div",{staticClass:"q-mb-sm"},[t._v(t._s(t.resources.description))]),s("div",{staticClass:"q-mb-sm"},[s("div",{staticClass:"text-h6 text-weight-bold"},[t._v("食材")]),s("q-table",{attrs:{data:JSON.parse(t.resources.myfoods),columns:t.food.columns,"row-key":"hahaha","hide-header":"","hide-bottom":"",flat:""}})],1),s("div",{staticClass:"text-h6 text-weight-bold"},[t._v("步骤")]),s("span",[t._v(t._s(t.resources.step))])]),s("q-page-sticky",{attrs:{position:"bottom-right",offset:[25,100]}},[s("q-btn",{staticStyle:{opacity:"0.8"},attrs:{dense:"",icon:"add",round:"",color:"secondary"},on:{click:t.open_dialog}})],1),s("q-page-sticky",{attrs:{position:"bottom-right",offset:[25,50]}},[s("q-btn",{staticStyle:{opacity:"0.8"},attrs:{dense:"",icon:"thumb_up_alt",round:"",color:"secondary"}}),s("q-badge",{staticClass:"g-custom-badge",attrs:{color:"orange"}},[t._v("9999")])],1),s("q-dialog",{attrs:{position:"bottom"},model:{value:t.dailog.show,callback:function(e){t.$set(t.dailog,"show",e)},expression:"dailog.show"}},[s("q-card",{staticStyle:{width:"300px"}},[s("q-list",[s("q-item",[s("q-item-section",[s("q-item-label",{attrs:{caption:""}},[t._v("把"+t._s(t.resources.name)+"安排到哪天")])],1)],1),s("q-separator",{attrs:{inset:""}}),t._l(t.schedule,(function(e,a){return s("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],key:a,attrs:{clickable:""},on:{click:function(s){return t.assign(e.day)}}},[s("span",[t._v(t._s(t.$g_transform[e.day-1])+"："+t._s(e.cookbook?e.cookbook.name:""))])])}))],2)],1)],1)],1):t._e()},o=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"text-subtitle2 flex justify-center q-mb-md"},[s("span",{},[t._v("7.5分")]),s("span",[t._v("・")]),s("span",[t._v("1.5亿次浏览")])])}],i={data:function(){return{food:{columns:[{name:"name",field:"name",required:!0,align:"left"},{name:"value",field:"value",required:!0,align:"left"}]},dailog:{show:!1},resources:"",schedule:""}},methods:{assign:function(t){var e=this,s="api/schedules",a={day_name:t,cookbook_id:this.resources.id};this.$axios.put(s,a).then((function(t){console.log(t),e.dailog.show=!1})).catch((function(t){console.log(t)}))},open_dialog:function(){this.dailog.show=!0,this._getSchedule()},_getCookbook:function(t){var e=this,s="api/cookbooks/".concat(t);this.$axios.get(s).then((function(t){console.log(t),e.resources=t.data})).catch((function(t){console.log(t)}))},_getSchedule:function(){var t=this,e="api/schedules";this.$axios.get(e).then((function(e){console.log(e),t.schedule=e.data})).catch((function(t){console.log(t)}))},test:function(){console.log(JSON.parse(this.resources.myfoods))}},created:function(){var t=this.$route.params.id;this._getCookbook(t)}},c=i,n=s("2877"),r=s("eebe"),l=s.n(r),d=s("068f"),u=s("cb32"),m=s("2c91"),h=s("9c40"),f=s("eaac"),p=s("de5e"),g=s("58a8"),b=s("24e8"),v=s("f09f"),_=s("1c1c"),q=s("66e5"),k=s("4074"),y=s("0170"),w=s("eb85"),x=s("714f"),C=Object(n["a"])(c,a,o,!1,null,null,null);e["default"]=C.exports;l()(C,"components",{QImg:d["a"],QAvatar:u["a"],QSpace:m["a"],QBtn:h["a"],QTable:f["a"],QPageSticky:p["a"],QBadge:g["a"],QDialog:b["a"],QCard:v["a"],QList:_["a"],QItem:q["a"],QItemSection:k["a"],QItemLabel:y["a"],QSeparator:w["a"]}),l()(C,"directives",{Ripple:x["a"]})}}]);