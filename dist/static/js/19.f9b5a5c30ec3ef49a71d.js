webpackJsonp([19],{LoBU:function(r,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});e("mtWM");var o={render:function(){var r=this.$createElement;return(this._self._c||r)("div",{staticClass:"alert",class:"alert-"+this.variant,attrs:{role:"alert"}},[this._v("\n    "+this._s(this.message)+"\n")])},staticRenderFns:[]},t=e("VU/8")({props:["variant","message"]},o,!1,null,null,null).exports,a=e("olkN"),n={name:"Login",components:{alert:t},data:function(){return{sharedState:a.a.state,alertVariant:"info",alertMessage:"Congratulations, you are now a registered user !",loginForm:{username:"",password:"",submitted:!1,errors:0,usernameError:null,passwordError:null}}},methods:{onSubmit:function(r){var s=this;if(this.loginForm.submitted=!0,this.loginForm.errors=0,this.loginForm.username?this.loginForm.usernameError=null:(this.loginForm.errors++,this.loginForm.usernameError="Username required."),this.loginForm.password?this.loginForm.passwordError=null:(this.loginForm.errors++,this.loginForm.passwordError="Password required."),this.loginForm.errors>0)return!1;this.$axios.post("/tokens",{},{auth:{username:this.loginForm.username,password:this.loginForm.password}}).then(function(r){window.localStorage.setItem("madblog-token",r.data.token),a.a.loginAction(),void 0===s.$route.query.redirect?s.$router.push("/"):s.$router.push(s.$route.query.redirect)}).catch(function(r){401==r.response.status?(s.loginForm.usernameError="Invalid username or password.",s.loginForm.passwordError="Invalid username or password."):console.log(r.response)})}}},i={render:function(){var r=this,s=r.$createElement,e=r._self._c||s;return e("div",{staticClass:"container"},[r.sharedState.is_new?e("alert",{attrs:{variant:r.alertVariant,message:r.alertMessage}}):r._e(),r._v(" "),e("h1",[r._v("Sign In")]),r._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-md-4"},[e("form",{on:{submit:function(s){return s.preventDefault(),r.onSubmit(s)}}},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"username"}},[r._v("Username")]),r._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:r.loginForm.username,expression:"loginForm.username"}],staticClass:"form-control",class:{"is-invalid":r.loginForm.usernameError},attrs:{type:"text",id:"username",placeholder:""},domProps:{value:r.loginForm.username},on:{input:function(s){s.target.composing||r.$set(r.loginForm,"username",s.target.value)}}}),r._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:r.loginForm.usernameError,expression:"loginForm.usernameError"}],staticClass:"invalid-feedback"},[r._v(r._s(r.loginForm.usernameError))])]),r._v(" "),e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"password"}},[r._v("Password")]),r._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:r.loginForm.password,expression:"loginForm.password"}],staticClass:"form-control",class:{"is-invalid":r.loginForm.passwordError},attrs:{type:"password",id:"password",placeholder:""},domProps:{value:r.loginForm.password},on:{input:function(s){s.target.composing||r.$set(r.loginForm,"password",s.target.value)}}}),r._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:r.loginForm.passwordError,expression:"loginForm.passwordError"}],staticClass:"invalid-feedback"},[r._v(r._s(r.loginForm.passwordError))])]),r._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[r._v("Sign In")])])])]),r._v(" "),e("br"),r._v(" "),e("p",[r._v("New User? "),e("router-link",{attrs:{to:"/register"}},[r._v("Click to Register!")])],1),r._v(" "),r._m(0)],1)},staticRenderFns:[function(){var r=this.$createElement,s=this._self._c||r;return s("p",[this._v("\n      Forgot Your Password?\n      "),s("a",{attrs:{href:"#"}},[this._v("Click to Reset It")])])}]},l=e("VU/8")(n,i,!1,null,null,null);s.default=l.exports}});
//# sourceMappingURL=19.f9b5a5c30ec3ef49a71d.js.map