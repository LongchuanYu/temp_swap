webpackJsonp([0],{"0Ylk":function(t,e,n){(function(t){t.fn.markdown.messages.zh={Bold:"粗体",Italic:"斜体",Heading:"标题","URL/Link":"链接",Image:"图片",List:"列表〃","Unordered List":"无序列表","Ordered List":"有序列表",Code:"代码",Quote:"引用",Preview:"预览","strong text":"粗体","emphasized text":"强调","heading text":"标题","enter link description here":"输入链接说明","Insert Hyperlink":"URL地址","enter image description here":"输入图片说明","Insert Image Hyperlink":"图片URL地址","enter image title here":"在这里输入图片标题","list text here":"这里是列表文本","code text here":"这里输入代码","quote here":"这里输入引用文本"}}).call(e,n("7t+N"))},Fs8J:function(t,e,n){"use strict";(function(t){var i=n("woOf"),s=n.n(i),r=n("olkN"),o=(n("VctS"),n("0Ylk")),a=(n.n(o),n("pDqP"),n("dQ4z")),l=n("KcqS");e.a={name:"Home",components:{Post:l.a,pagination:a.a},data:function(){return{sharestate:r.a.state,posts:{_meta:{page:1,per_page:10}},delPostid:"",postForm:{title:"",summary:"",body:"",errors:0,titleError:null,bodyError:null},editForm:{title:"",summary:"",body:"",errors:0,titleError:null,bodyError:null}}},methods:{onEditPost:function(e){this._tearDownFormError("editForm"),this.editForm=s()(this.editForm,e),t("#edit_body").markdown({autofocus:!1,savable:!1,iconlibrary:"fa",language:"zh"})},onSubmitUpdate:function(){var e=this;this._tearDownFormError("editForm");var n=this.editForm,i=n.title,s=n.summary,r=n.body,o=n.id,a="/posts/"+o;if(""!=t.trim(i)&&this.editForm.title||(this.editForm.errors+=1,this.editForm.titleError="Please input your title."),""!=t.trim(r)&&this.editForm.body?t("#edit_body").parent(".md-editor").removeClass("is-invalid"):(this.editForm.errors+=1,this.editForm.bodyError="Please input your article.",t("#edit_body").parent(".md-editor").addClass("is-invalid")),!this.editForm.errors){var l={title:i,summary:s,body:r,id:o};this.$axios.put(a,l).then(function(n){t("#exampleModal").modal("hide"),e.$toasted.success("修改成功"),e._getPosts()}).catch(function(t){e.$toasted.error("修改失败")})}},onDeletePost:function(){var e=this;if(this.delPostid){var n="/posts/"+this.delPostid;this.$axios.delete(n).then(function(n){e.$toasted.success("删除成功"),t("#modalDelete").modal("hide"),e._getPosts()}).catch(function(n){e.$toasted.error("删除失败"),t("#modalDelete").modal("hide"),console.log(n)})}else this.$toasted.success("Ooooh No !")},onSubmitAdd:function(){this._putPosts()},_tearDownFormError:function(t){switch(t){case"editForm":this.editForm.errors=0,this.editForm.titleError="",this.editForm.bodyError="";break;case"postForm":this.postForm.errors=0,this.postForm.titleError="",this.postForm.bodyError="";break;case"All":this.editForm.errors=0,this.editForm.titleError="",this.editForm.bodyError="",this.postForm.errors=0,this.postForm.titleError="",this.postForm.bodyError=""}},_putPosts:function(){var e=this;this.postForm.errors=0,this.postForm.titleError="",this.postForm.bodyError="";var n=this.postForm,i=n.title,s=n.summary,r=n.body;if(""!=t.trim(i)&&this.postForm.title||(this.postForm.errors+=1,this.postForm.titleError="Please input your title."),""!=t.trim(r)&&this.postForm.body?t("#post_body").parent(".md-editor").removeClass("is-invalid"):(this.postForm.errors+=1,this.postForm.bodyError="Please input your article.",t("#post_body").parent(".md-editor").addClass("is-invalid")),!this.postForm.errors){var o={title:i,summary:s,body:r,author_id:this.sharestate.user_id};this.$axios.post("/posts",o).then(function(t){e._getPosts(),e.postForm.title="",e.postForm.summary="",e.postForm.body=""}).catch(function(t){console.log(t.response)})}},_getPosts:function(){var t=this,e=1,n=4;this.$route.query.page&&this.$route.query.per_page&&(this.$route.query.page<1||this.$route.query.page>this.posts._meta.total_pages||this.$route.query.per_page<1)&&this.$router.back(),void 0!==this.$route.query.page&&(e=this.$route.query.page),void 0!==this.$route.query.per_page&&(n=this.$route.query.per_page);this.$axios.get("/posts",{params:{page:e,per_page:n}}).then(function(e){t.posts=e.data}).catch(function(t){console.log(t)})},test:function(t,e){console.log(this.$route.query.page),console.log(t,e)}},created:function(){this._getPosts(),t(document).ready(function(){t("#post_body").markdown({autofocus:!1,savable:!1,iconlibrary:"fa",language:"zh"})})},beforeRouteUpdate:function(t,e,n){n(),this._getPosts()}}}).call(e,n("7t+N"))},KcqS:function(t,e,n){"use strict";var i=n("olkN"),s=n("Xoog"),r={props:["post"],components:{VueMarkdown:n.n(s).a},data:function(){return{sharestate:i.a.state}}},o={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{staticClass:"card-body border mb-3 d-flex align-items-start"},[n("div",{},[n("img",{staticClass:"d-flex mr-4",staticStyle:{width:"50px"},attrs:{src:t.post.author._links.avatar,alt:""}})]),t._v(" "),n("div",{staticClass:"w-75",staticStyle:{flex:"1"}},[n("div",{staticClass:"mb-2 d-flex justify-content-between flex-wrap"},[n("router-link",{staticClass:"h5 text-truncate w-75",attrs:{to:{name:"PostDetail",params:{id:t.post.id}}}},[t._v(t._s(t.post.title))]),t._v(" "),n("div",{staticClass:"d-inline-block  text-truncate"},[n("small",[t._v(t._s(t.$moment(t.post.timestamp).fromNow())+" /")]),t._v(" "),n("router-link",{attrs:{to:{path:"/user/"+t.post.author.id}}},[n("small",[t._v(t._s(t.post.author.username||t.post.author.name))])])],1)],1),t._v(" "),n("div",{staticClass:"d-block text-wrap overflow-hidden mb-2",staticStyle:{height:"3em"}},[t._v("\n                "+t._s(t.post.summary)+"\n            ")]),t._v(" "),n("div",{staticClass:"d-flex justify-content-between align-items-center"},[n("div",{},[n("i",{staticClass:"fa fa-eye text-muted mr-1"}),n("small",[t._v(t._s(t.post.views))])]),t._v(" "),n("div",{staticClass:"btn-group",attrs:{role:"group"}},[n("button",{staticClass:"btn btn-outline-secondary btn-sm",attrs:{type:"button","data-toggle":"modal","data-target":"#exampleModal",disabled:t.sharestate.user_id!=t.post.author.id},on:{click:function(e){return t.$emit("edit-post")}}},[t._v("编辑")]),t._v(" "),n("button",{staticClass:"btn btn-outline-secondary btn-sm",attrs:{type:"button","data-toggle":"modal","data-target":"#modalDelete",disabled:t.sharestate.user_id!=t.post.author.id},on:{click:function(e){return t.$emit("del-post")}}},[t._v("删除")])])])])])])},staticRenderFns:[]},a=n("VU/8")(r,o,!1,null,null,null);e.a=a.exports},R4wc:function(t,e,n){var i=n("kM2E");i(i.S+i.F,"Object",{assign:n("To3L")})},To3L:function(t,e,n){"use strict";var i=n("+E39"),s=n("lktj"),r=n("1kS7"),o=n("NpIQ"),a=n("sB3e"),l=n("MU5D"),c=Object.assign;t.exports=!c||n("S82l")(function(){var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach(function(t){e[t]=t}),7!=c({},t)[n]||Object.keys(c({},e)).join("")!=i})?function(t,e){for(var n=a(t),c=arguments.length,d=1,h=r.f,u=o.f;c>d;)for(var p,f=l(arguments[d++]),m=h?s(f).concat(h(f)):s(f),g=m.length,b=0;g>b;)p=m[b++],i&&!u.call(f,p)||(n[p]=f[p]);return n}:c},V3tA:function(t,e,n){n("R4wc"),t.exports=n("FeBl").Object.assign},VctS:function(t,e,n){"use strict";(function(t){var e,i=n("pFYg"),s=n.n(i);e=function(e){var n=function(t,n){e.each(["autofocus","savable","hideable","width","height","resize","iconlibrary","language","footer","fullscreen","hiddenButtons","disabledButtons"],function(i,r){void 0!==e(t).data(r)&&((n="object"==(void 0===n?"undefined":s()(n))?n:{})[r]=e(t).data(r))}),this.$ns="bootstrap-markdown",this.$element=e(t),this.$editable={el:null,type:null,attrKeys:[],attrValues:[],content:null},this.$options=e.extend(!0,{},e.fn.markdown.defaults,n,this.$element.data("options")),this.$oldContent=null,this.$isPreview=!1,this.$isFullscreen=!1,this.$editor=null,this.$textarea=null,this.$handler=[],this.$callback=[],this.$nextTab=[],this.showEditor()};n.prototype={constructor:n,__alterButtons:function(t,n){var i=this.$handler,s="all"==t,r=this;e.each(i,function(e,i){!1===(!s&&i.indexOf(t)<0)&&n(r.$editor.find('button[data-handler="'+i+'"]'))})},__buildButtons:function(n,i){var s,r=this.$ns,o=this.$handler,a=this.$callback;for(s=0;s<n.length;s++){var l,c=n[s];for(l=0;l<c.length;l++){var d,h=c[l].data,u=e("<div/>",{class:"btn-group"});for(d=0;d<h.length;d++){var p,f,m=h[d],g=r+"-"+m.name,b=this.__getIcon(m),v=m.btnText?m.btnText:"",y=m.btnClass?m.btnClass:"btn",_=m.tabIndex?m.tabIndex:"-1",k=void 0!==m.hotkey?m.hotkey:"",x=void 0!==t.hotkeys&&""!==k?" ("+k+")":"";(p=e("<button></button>")).text(" "+this.__localize(v)).addClass("btn-default btn-sm").addClass(y),y.match(/btn\-(primary|success|info|warning|danger|link)/)&&p.removeClass("btn-default"),p.attr({type:"button",title:this.__localize(m.title)+x,tabindex:_,"data-provider":r,"data-handler":g,"data-hotkey":k}),!0===m.toggle&&p.attr("data-toggle","button"),(f=e("<span/>")).addClass(b),f.prependTo(p),u.append(p),o.push(g),a.push(m.callback)}i.append(u)}}return i},__setListener:function(){var t=void 0!==this.$textarea.attr("rows"),e=this.$textarea.val().split("\n").length>5?this.$textarea.val().split("\n").length:"5",n=t?this.$textarea.attr("rows"):e;this.$textarea.attr("rows",n),this.$options.resize&&this.$textarea.css("resize",this.$options.resize),this.$textarea.data("markdown",this)},__setEventListeners:function(){this.$textarea.on({focus:e.proxy(this.focus,this),keyup:e.proxy(this.keyup,this),change:e.proxy(this.change,this),select:e.proxy(this.select,this)}),this.eventSupported("keydown")&&this.$textarea.on("keydown",e.proxy(this.keydown,this)),this.eventSupported("keypress")&&this.$textarea.on("keypress",e.proxy(this.keypress,this))},__handle:function(t){var n=e(t.currentTarget),i=this.$handler,s=this.$callback,r=n.attr("data-handler"),o=s[i.indexOf(r)];e(t.currentTarget).focus(),o(this),this.change(this),r.indexOf("cmdSave")<0&&this.$textarea.focus(),t.preventDefault()},__localize:function(t){var n=e.fn.markdown.messages,i=this.$options.language;return void 0!==n&&void 0!==n[i]&&void 0!==n[i][t]?n[i][t]:t},__getIcon:function(t){if("object"==(void 0===t?"undefined":s()(t))){var e=this.$options.customIcons[t.name];return void 0===e?t.icon[this.$options.iconlibrary]:e}return t},setFullscreen:function(t){var n=this.$editor,i=this.$textarea;!0===t?(n.addClass("md-fullscreen-mode"),e("body").addClass("md-nooverflow"),this.$options.onFullscreen(this)):(n.removeClass("md-fullscreen-mode"),e("body").removeClass("md-nooverflow"),this.$options.onFullscreenExit(this),!0===this.$isPreview&&this.hidePreview().showPreview()),this.$isFullscreen=t,i.focus()},showEditor:function(){var n,i=this,r=this.$ns,o=this.$element,a=(o.css("height"),o.css("width"),this.$editable),l=this.$handler,c=this.$callback,d=this.$options,h=e("<div/>",{class:"md-editor",click:function(){i.focus()}});if(null===this.$editor){var u=e("<div/>",{class:"md-header btn-toolbar"}),p=[];if(d.buttons.length>0&&(p=p.concat(d.buttons[0])),d.additionalButtons.length>0&&e.each(d.additionalButtons[0],function(t,n){var i=e.grep(p,function(t,e){return t.name===n.name});i.length>0?i[0].data=i[0].data.concat(n.data):p.push(d.additionalButtons[0][t])}),d.reorderButtonGroups.length>0&&(p=p.filter(function(t){return d.reorderButtonGroups.indexOf(t.name)>-1}).sort(function(t,e){return d.reorderButtonGroups.indexOf(t.name)<d.reorderButtonGroups.indexOf(e.name)?-1:d.reorderButtonGroups.indexOf(t.name)>d.reorderButtonGroups.indexOf(e.name)?1:0})),p.length>0&&(u=this.__buildButtons([p],u)),d.fullscreen.enable&&u.append('<div class="md-controls"><a class="md-control md-control-fullscreen" href="#"><span class="'+this.__getIcon(d.fullscreen.icons.fullscreenOn)+'"></span></a></div>').on("click",".md-control-fullscreen",function(t){t.preventDefault(),i.setFullscreen(!0)}),h.append(u),o.is("textarea"))o.before(h),(n=o).addClass("md-input"),h.append(n);else{var f="function"==typeof toMarkdown?toMarkdown(o.html()):o.html(),m=e.trim(f);n=e("<textarea/>",{class:"md-input",val:m}),h.append(n),a.el=o,a.type=o.prop("tagName").toLowerCase(),a.content=o.html(),e(o[0].attributes).each(function(){a.attrKeys.push(this.nodeName),a.attrValues.push(this.nodeValue)}),o.replaceWith(h)}var g,b=e("<div/>",{class:"md-footer"}),v=!1;if(d.savable){v=!0;l.push("cmdSave"),c.push(d.onSave),b.append('<button class="btn btn-success" data-provider="'+r+'" data-handler="cmdSave"><i class="icon icon-white icon-ok"></i> '+this.__localize("Save")+"</button>")}if(g="function"==typeof d.footer?d.footer(this):d.footer,""!==e.trim(g)&&(v=!0,b.append(g)),v&&h.append(b),d.width&&"inherit"!==d.width&&(t.isNumeric(d.width)?(h.css("display","table"),n.css("width",d.width+"px")):h.addClass(d.width)),d.height&&"inherit"!==d.height)if(t.isNumeric(d.height)){var y=d.height;u&&(y=Math.max(0,y-u.outerHeight())),b&&(y=Math.max(0,y-b.outerHeight())),n.css("height",y+"px")}else h.addClass(d.height);this.$editor=h,this.$textarea=n,this.$editable=a,this.$oldContent=this.getContent(),this.__setListener(),this.__setEventListeners(),this.$editor.attr("id",(new Date).getTime()),this.$editor.on("click",'[data-provider="bootstrap-markdown"]',e.proxy(this.__handle,this)),(this.$element.is(":disabled")||this.$element.is("[readonly]"))&&(this.$editor.addClass("md-editor-disabled"),this.disableButtons("all")),this.eventSupported("keydown")&&"object"===s()(t.hotkeys)&&u.find('[data-provider="bootstrap-markdown"]').each(function(){var t=e(this),i=t.attr("data-hotkey");""!==i.toLowerCase()&&n.bind("keydown",i,function(){return t.trigger("click"),!1})}),"preview"===d.initialstate?this.showPreview():"fullscreen"===d.initialstate&&d.fullscreen.enable&&this.setFullscreen(!0)}else this.$editor.show();return d.autofocus&&(this.$textarea.focus(),this.$editor.addClass("active")),d.fullscreen.enable&&!1!==d.fullscreen&&(this.$editor.append('<div class="md-fullscreen-controls"><a href="#" class="exit-fullscreen" title="Exit fullscreen"><span class="'+this.__getIcon(d.fullscreen.icons.fullscreenOff)+'"></span></a></div>'),this.$editor.on("click",".exit-fullscreen",function(t){t.preventDefault(),i.setFullscreen(!1)})),this.hideButtons(d.hiddenButtons),this.disableButtons(d.disabledButtons),d.dropZoneOptions&&(this.$editor.dropzone?(d.dropZoneOptions.init||(d.dropZoneOptions.init=function(){var t=0;this.on("drop",function(e){t=n.prop("selectionStart")}),this.on("success",function(e,i){var s=n.val();n.val(s.substring(0,t)+"\n![description]("+i+")\n"+s.substring(t))}),this.on("error",function(t,e,n){console.log("Error:",e)})}),this.$editor.addClass("dropzone"),this.$editor.dropzone(d.dropZoneOptions)):console.log("dropZoneOptions was configured, but DropZone was not detected.")),!0===d.enableDropDataUri&&this.$editor.on("drop",function(t){var i=n.prop("selectionStart");t.stopPropagation(),t.preventDefault(),e.each(t.originalEvent.dataTransfer.files,function(t,e){var s=new FileReader;s.onload=function(t){var e=t.type.split("/")[0];return function(s){var r=n.val();"image"===e?n.val(r.substring(0,i)+'\n<img src="'+s.target.result+'" />\n'+r.substring(i)):n.val(r.substring(0,i)+'\n<a href="'+s.target.result+'">Download '+t.name+"</a>\n"+r.substring(i))}}(e),s.readAsDataURL(e)})}),d.onShow(this),this},parseContent:function(t){return t=t||this.$textarea.val(),this.$options.parser?this.$options.parser(t):"object"==("undefined"==typeof markdown?"undefined":s()(markdown))?markdown.toHTML(t):"function"==typeof marked?marked(t):t},showPreview:function(){var t,n,i=this.$options,s=this.$textarea,r=s.next(),o=e("<div/>",{class:"md-preview","data-provider":"markdown-preview"});return!0===this.$isPreview?this:(this.$isPreview=!0,this.disableButtons("all").enableButtons("cmdPreview"),t="string"==typeof(n=i.onPreview(this,o))?n:this.parseContent(),o.html(t),r&&"md-footer"==r.attr("class")?o.insertBefore(r):s.parent().append(o),o.css({width:s.outerWidth()+"px","min-height":s.outerHeight()+"px",height:"auto"}),this.$options.resize&&o.css("resize",this.$options.resize),s.hide(),o.data("markdown",this),(this.$element.is(":disabled")||this.$element.is("[readonly]"))&&(this.$editor.addClass("md-editor-disabled"),this.disableButtons("all")),this)},hidePreview:function(){return this.$isPreview=!1,this.$editor.find('div[data-provider="markdown-preview"]').remove(),this.enableButtons("all"),this.disableButtons(this.$options.disabledButtons),this.$options.onPreviewEnd(this),this.$textarea.show(),this.__setListener(),this},isDirty:function(){return this.$oldContent!=this.getContent()},getContent:function(){return this.$textarea.val()},setContent:function(t){return this.$textarea.val(t),this},findSelection:function(t){var e;if((e=this.getContent().indexOf(t))>=0&&t.length>0){var n,i=this.getSelection();return this.setSelection(e,e+t.length),n=this.getSelection(),this.setSelection(i.start,i.end),n}return null},getSelection:function(){var t=this.$textarea[0];return("selectionStart"in t&&function(){var e=t.selectionEnd-t.selectionStart;return{start:t.selectionStart,end:t.selectionEnd,length:e,text:t.value.substr(t.selectionStart,e)}}||function(){return null})()},setSelection:function(t,e){var n=this.$textarea[0];return("selectionStart"in n&&function(){n.selectionStart=t,n.selectionEnd=e}||function(){return null})()},replaceSelection:function(e){var n=this.$textarea[0];return("selectionStart"in n&&function(){return n.value=n.value.substr(0,n.selectionStart)+e+n.value.substr(n.selectionEnd,n.value.length),n.selectionStart=n.value.length,this}||function(){return n.value+=e,t(n)})()},getNextTab:function(){if(0===this.$nextTab.length)return null;var t,e=this.$nextTab.shift();return"function"==typeof e?t=e():"object"==(void 0===e?"undefined":s()(e))&&e.length>0&&(t=e),t},setNextTab:function(t,e){if("string"==typeof t){var n=this;this.$nextTab.push(function(){return n.findSelection(t)})}else if("number"==typeof t&&"number"==typeof e){var i=this.getSelection();this.setSelection(t,e),this.$nextTab.push(this.getSelection()),this.setSelection(i.start,i.end)}},__parseButtonNameParam:function(t){return"string"==typeof t?t.split(" "):t},enableButtons:function(t){var n=this.__parseButtonNameParam(t),i=this;return e.each(n,function(t,e){i.__alterButtons(n[t],function(t){t.removeAttr("disabled")})}),this},disableButtons:function(t){var n=this.__parseButtonNameParam(t),i=this;return e.each(n,function(t,e){i.__alterButtons(n[t],function(t){t.attr("disabled","disabled")})}),this},hideButtons:function(t){var n=this.__parseButtonNameParam(t),i=this;return e.each(n,function(t,e){i.__alterButtons(n[t],function(t){t.addClass("hidden")})}),this},showButtons:function(t){var n=this.__parseButtonNameParam(t),i=this;return e.each(n,function(t,e){i.__alterButtons(n[t],function(t){t.removeClass("hidden")})}),this},eventSupported:function(t){var e=t in this.$element;return e||(this.$element.setAttribute(t,"return;"),e="function"==typeof this.$element[t]),e},keyup:function(t){var n=!1;switch(t.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:var i;if(null!==(i=this.getNextTab())){var s=this;setTimeout(function(){s.setSelection(i.start,i.end)},500),n=!0}else{var r=this.getSelection();r.start==r.end&&r.end==this.getContent().length?n=!1:(this.setSelection(this.getContent().length,this.getContent().length),n=!0)}break;case 13:n=!1;for(var o=this.getContent().split(""),a=this.getSelection().start,l=-1,c=a-2;c>=0;c--)if("\n"===o[c]){l=c;break}var d=o[l+1];if("-"===d)this.addBullet(a);else if(e.isNumeric(d)){var h=this.getBulletNumber(l+1);h&&this.addNumberedBullet(a,h)}break;case 27:this.$isFullscreen&&this.setFullscreen(!1),n=!1;break;default:n=!1}n&&(t.stopPropagation(),t.preventDefault()),this.$options.onChange(this)},insertContent:function(t,e){var n=this.getContent().slice(0,t),i=this.getContent().slice(t+1);this.setContent(n.concat(e).concat(i))},addBullet:function(t){this.insertContent(t,"- \n"),this.setSelection(t+2,t+2)},addNumberedBullet:function(t,e){var n=e+1+". \n";this.insertContent(t,n);var i=e.toString().length+2;this.setSelection(t+i,t+i)},getBulletNumber:function(t){var n=this.getContent().slice(t).split(".")[0];return e.isNumeric(n)?parseInt(n):null},change:function(t){return this.$options.onChange(this),this},select:function(t){return this.$options.onSelect(this),this},focus:function(t){var n=this.$options,i=(n.hideable,this.$editor);return i.addClass("active"),e(document).find(".md-editor").each(function(){var t;e(this).attr("id")!==i.attr("id")&&(null===(t=e(this).find("textarea").data("markdown"))&&(t=e(this).find('div[data-provider="markdown-preview"]').data("markdown")),t&&t.blur())}),n.onFocus(this),this},blur:function(t){var n=this.$options,i=n.hideable,s=this.$editor,r=this.$editable;if(s.hasClass("active")||0===this.$element.parent().length){if(s.removeClass("active"),i)if(null!==r.el){var o=e("<"+r.type+"/>"),a=this.getContent(),l=this.parseContent(a);e(r.attrKeys).each(function(t,e){o.attr(r.attrKeys[t],r.attrValues[t])}),o.html(l),s.replaceWith(o)}else s.hide();n.onBlur(this)}return this}};var i=e.fn.markdown;e.fn.markdown=function(t){return this.each(function(){var i=e(this),r=i.data("markdown"),o="object"==(void 0===t?"undefined":s()(t))&&t;r||i.data("markdown",r=new n(this,o))})},e.fn.markdown.messages={},e.fn.markdown.defaults={autofocus:!1,hideable:!1,savable:!1,width:"inherit",height:"inherit",resize:"none",iconlibrary:"glyph",language:"en",initialstate:"editor",parser:null,dropZoneOptions:null,enableDropDataUri:!1,buttons:[[{name:"groupFont",data:[{name:"cmdBold",hotkey:"Ctrl+B",title:"Bold",icon:{glyph:"glyphicon glyphicon-bold",fa:"fa fa-bold","fa-3":"icon-bold",octicons:"octicon octicon-bold"},callback:function(t){var e,n,i=t.getSelection(),s=t.getContent();e=0===i.length?t.__localize("strong text"):i.text,"**"===s.substr(i.start-2,2)&&"**"===s.substr(i.end,2)?(t.setSelection(i.start-2,i.end+2),t.replaceSelection(e),n=i.start-2):(t.replaceSelection("**"+e+"**"),n=i.start+2),t.setSelection(n,n+e.length)}},{name:"cmdItalic",title:"Italic",hotkey:"Ctrl+I",icon:{glyph:"glyphicon glyphicon-italic",fa:"fa fa-italic","fa-3":"icon-italic",octicons:"octicon octicon-italic"},callback:function(t){var e,n,i=t.getSelection(),s=t.getContent();e=0===i.length?t.__localize("emphasized text"):i.text,"_"===s.substr(i.start-1,1)&&"_"===s.substr(i.end,1)?(t.setSelection(i.start-1,i.end+1),t.replaceSelection(e),n=i.start-1):(t.replaceSelection("_"+e+"_"),n=i.start+1),t.setSelection(n,n+e.length)}},{name:"cmdHeading",title:"Heading",hotkey:"Ctrl+H",icon:{glyph:"glyphicon glyphicon-header",fa:"fa fa-header","fa-3":"icon-font",octicons:"octicon octicon-text-size"},callback:function(t){var e,n,i,s,r=t.getSelection(),o=t.getContent();e=0===r.length?t.__localize("heading text"):r.text+"\n",i=4,"### "===o.substr(r.start-i,i)||(i=3,"###"===o.substr(r.start-i,i))?(t.setSelection(r.start-i,r.end),t.replaceSelection(e),n=r.start-i):r.start>0&&((s=o.substr(r.start-1,1))&&"\n"!=s)?(t.replaceSelection("\n\n### "+e),n=r.start+6):(t.replaceSelection("### "+e),n=r.start+4),t.setSelection(n,n+e.length)}}]},{name:"groupLink",data:[{name:"cmdUrl",title:"URL/Link",hotkey:"Ctrl+L",icon:{glyph:"glyphicon glyphicon-link",fa:"fa fa-link","fa-3":"icon-link",octicons:"octicon octicon-link"},callback:function(t){var n,i,s,r=t.getSelection();t.getContent();n=0===r.length?t.__localize("enter link description here"):r.text,s=prompt(t.__localize("Insert Hyperlink"),"http://");var o=new RegExp("^((http|https)://|(mailto:)|(//))[a-z0-9]","i");if(null!==s&&""!==s&&"http://"!==s&&o.test(s)){var a=e("<div>"+s+"</div>").text();t.replaceSelection("["+n+"]("+a+")"),i=r.start+1,t.setSelection(i,i+n.length)}}},{name:"cmdImage",title:"Image",hotkey:"Ctrl+G",icon:{glyph:"glyphicon glyphicon-picture",fa:"fa fa-picture-o","fa-3":"icon-picture",octicons:"octicon octicon-file-media"},callback:function(t){var n,i,s,r=t.getSelection();t.getContent();n=0===r.length?t.__localize("enter image description here"):r.text,s=prompt(t.__localize("Insert Image Hyperlink"),"http://");var o=new RegExp("^((http|https)://|(//))[a-z0-9]","i");if(null!==s&&""!==s&&"http://"!==s&&o.test(s)){var a=e("<div>"+s+"</div>").text();t.replaceSelection("!["+n+"]("+a+' "'+t.__localize("enter image title here")+'")'),i=r.start+2,t.setNextTab(t.__localize("enter image title here")),t.setSelection(i,i+n.length)}}}]},{name:"groupMisc",data:[{name:"cmdList",hotkey:"Ctrl+U",title:"Unordered List",icon:{glyph:"glyphicon glyphicon-list",fa:"fa fa-list","fa-3":"icon-list-ul",octicons:"octicon octicon-list-unordered"},callback:function(t){var n,i,s=t.getSelection();t.getContent();if(0===s.length)n=t.__localize("list text here"),t.replaceSelection("- "+n),i=s.start+2;else if(s.text.indexOf("\n")<0)n=s.text,t.replaceSelection("- "+n),i=s.start+2;else{var r=[];n=(r=s.text.split("\n"))[0],e.each(r,function(t,e){r[t]="- "+e}),t.replaceSelection("\n\n"+r.join("\n")),i=s.start+4}t.setSelection(i,i+n.length)}},{name:"cmdListO",hotkey:"Ctrl+O",title:"Ordered List",icon:{glyph:"glyphicon glyphicon-th-list",fa:"fa fa-list-ol","fa-3":"icon-list-ol",octicons:"octicon octicon-list-ordered"},callback:function(t){var n,i,s=t.getSelection();t.getContent();if(0===s.length)n=t.__localize("list text here"),t.replaceSelection("1. "+n),i=s.start+3;else if(s.text.indexOf("\n")<0)n=s.text,t.replaceSelection("1. "+n),i=s.start+3;else{var r=1,o=[];n=(o=s.text.split("\n"))[0],e.each(o,function(t,e){o[t]=r+". "+e,r++}),t.replaceSelection("\n\n"+o.join("\n")),i=s.start+5}t.setSelection(i,i+n.length)}},{name:"cmdCode",hotkey:"Ctrl+K",title:"Code",icon:{glyph:"glyphicon glyphicon-console",fa:"fa fa-code","fa-3":"icon-code",octicons:"octicon octicon-code"},callback:function(t){var e,n,i=t.getSelection(),s=t.getContent();e=0===i.length?t.__localize("code text here"):i.text,"```\n"===s.substr(i.start-4,4)&&"\n```"===s.substr(i.end,4)?(t.setSelection(i.start-4,i.end+4),t.replaceSelection(e),n=i.start-4):"`"===s.substr(i.start-1,1)&&"`"===s.substr(i.end,1)?(t.setSelection(i.start-1,i.end+1),t.replaceSelection(e),n=i.start-1):s.indexOf("\n")>-1?(t.replaceSelection("```\n"+e+"\n```"),n=i.start+4):(t.replaceSelection("`"+e+"`"),n=i.start+1),t.setSelection(n,n+e.length)}},{name:"cmdQuote",hotkey:"Ctrl+Q",title:"Quote",icon:{glyph:"glyphicon glyphicon-comment",fa:"fa fa-quote-left","fa-3":"icon-quote-left",octicons:"octicon octicon-quote"},callback:function(t){var n,i,s=t.getSelection();t.getContent();if(0===s.length)n=t.__localize("quote here"),t.replaceSelection("> "+n),i=s.start+2;else if(s.text.indexOf("\n")<0)n=s.text,t.replaceSelection("> "+n),i=s.start+2;else{var r=[];n=(r=s.text.split("\n"))[0],e.each(r,function(t,e){r[t]="> "+e}),t.replaceSelection("\n\n"+r.join("\n")),i=s.start+4}t.setSelection(i,i+n.length)}}]},{name:"groupUtil",data:[{name:"cmdPreview",toggle:!0,hotkey:"Ctrl+P",title:"Preview",btnText:"Preview",btnClass:"btn btn-primary btn-sm",icon:{glyph:"glyphicon glyphicon-search",fa:"fa fa-search","fa-3":"icon-search",octicons:"octicon octicon-search"},callback:function(t){!1===t.$isPreview?t.showPreview():t.hidePreview()}}]}]],customIcons:{},additionalButtons:[],reorderButtonGroups:[],hiddenButtons:[],disabledButtons:[],footer:"",fullscreen:{enable:!0,icons:{fullscreenOn:{name:"fullscreenOn",icon:{fa:"fa fa-expand",glyph:"glyphicon glyphicon-fullscreen","fa-3":"icon-resize-full",octicons:"octicon octicon-link-external"}},fullscreenOff:{name:"fullscreenOff",icon:{fa:"fa fa-compress",glyph:"glyphicon glyphicon-fullscreen","fa-3":"icon-resize-small",octicons:"octicon octicon-browser"}}}},onShow:function(t){},onPreview:function(t){},onPreviewEnd:function(t){},onSave:function(t){},onBlur:function(t){},onFocus:function(t){},onChange:function(t){},onFullscreen:function(t){},onFullscreenExit:function(t){},onSelect:function(t){}},e.fn.markdown.Constructor=n,e.fn.markdown.noConflict=function(){return e.fn.markdown=i,this};var r=function(t){var e=t;e.data("markdown")?e.data("markdown").showEditor():e.markdown()};e(document).on("click.markdown.data-api",'[data-provide="markdown-editable"]',function(t){r(e(this)),t.preventDefault()}).on("click focusin",function(t){var n;n=e(document.activeElement),e(document).find(".md-editor").each(function(){var t=e(this),i=n.closest(".md-editor")[0]===this,s=t.find("textarea").data("markdown")||t.find('div[data-provider="markdown-preview"]').data("markdown");s&&!i&&s.blur()})}).ready(function(){e('textarea[data-provide="markdown"]').each(function(){r(e(this))})})},"function"==typeof define&&n("nErl")?define(["jquery"],e):"object"===("undefined"==typeof exports?"undefined":s()(exports))?e(n("7t+N")):e(t)}).call(e,n("7t+N"))},lO7g:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("Fs8J"),s={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{staticClass:"modal fade g-teardownModal",attrs:{id:"exampleModal",tabindex:"-1",role:"dialog","data-backdrop":"static","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[n("div",{staticClass:"modal-dialog modal-lg modal-dialog-centered",attrs:{role:"document"}},[n("div",{staticClass:"modal-content"},[t._m(0),t._v(" "),n("div",{staticClass:"modal-body"},[n("form",{on:{submit:function(e){return e.preventDefault(),t.onSubmitUpdate(e)},reset:function(e){return e.preventDefault(),t.onResetUpdate(e)}}},[n("div",{staticClass:"form-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.editForm.title,expression:"editForm.title"}],class:{"form-control":!0,"is-invalid":t.editForm.titleError},attrs:{type:"text",id:"edit_title",placeholder:"标题",required:""},domProps:{value:t.editForm.title},on:{input:function(e){e.target.composing||t.$set(t.editForm,"title",e.target.value)}}}),t._v(" "),n("div",{staticClass:"invalid-feedback"},[t._v(t._s(t.editForm.titleError))])]),t._v(" "),n("div",{staticClass:"form-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.editForm.summary,expression:"editForm.summary"}],staticClass:"form-control",attrs:{type:"text",id:"edit_summary",placeholder:"摘要"},domProps:{value:t.editForm.summary},on:{input:function(e){e.target.composing||t.$set(t.editForm,"summary",e.target.value)}}})]),t._v(" "),n("div",{staticClass:"form-group"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.editForm.body,expression:"editForm.body"}],staticClass:"form-control",attrs:{id:"edit_body",rows:"5"},domProps:{value:t.editForm.body},on:{input:function(e){e.target.composing||t.$set(t.editForm,"body",e.target.value)}}}),t._v(" "),n("div",{staticClass:"invalid-feedback"},[t._v(t._s(t.editForm.bodyError))])]),t._v(" "),t._m(1)])])])])]),t._v(" "),n("div",{staticClass:"modal fade g-teardownModal",attrs:{id:"modalDelete",tabindex:"-1",role:"dialog","aria-labelledby":"modalDeleteLabel","aria-hidden":"true"}},[n("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"}},[n("div",{staticClass:"modal-content"},[t._m(2),t._v(" "),n("div",{staticClass:"modal-body"},[t._v("Are you sure？")]),t._v(" "),n("div",{staticClass:"modal-footer"},[n("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("No")]),t._v(" "),n("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.onDeletePost}},[t._v("Yes")])])])])]),t._v(" "),n("div",{staticClass:"card border-0 mb-5"},[n("div",{staticClass:"card-header d-flex align-items-center justify-content-between bg-light border-0 mb-3"},[n("div",{staticClass:"float-left"},[n("i",{staticClass:"fa fa-commenting-o"}),t._v("\n        All Posts\n        "),n("small",{staticClass:"font-weight-normal"},[t._v("（共"+t._s(t.posts._meta?t.posts._meta.total_items:"")+"篇，"+t._s(t.posts._meta?t.posts._meta.total_pages:"")+"页）")])]),t._v(" "),t._m(3)]),t._v(" "),t.posts?n("div",t._l(t.posts.items,function(e,i){return n("post",{key:i,attrs:{post:e},on:{"edit-post":function(n){return t.onEditPost(e)},"del-post":function(n){t.delPostid=e.id}}})}),1):t._e(),t._v(" "),n("pagination",{attrs:{curPage:t.posts._meta.page,perPage:t.posts._meta.per_page,totalPage:t.posts._meta.total_pages}})],1),t._v(" "),t._m(4),t._v(" "),t.sharestate.is_authenticated?n("form",{staticClass:"mb-4",on:{submit:function(e){return e.preventDefault(),t.onSubmitAdd(e)}}},[n("div",{staticClass:"form-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.postForm.title,expression:"postForm.title"}],class:{"form-control":!0,"is-invalid":t.postForm.titleError},attrs:{type:"text",id:"post_title",placeholder:"标题",required:""},domProps:{value:t.postForm.title},on:{input:function(e){e.target.composing||t.$set(t.postForm,"title",e.target.value)}}}),t._v(" "),n("div",{staticClass:"invalid-feedback"},[t._v(t._s(t.postForm.titleError))])]),t._v(" "),n("div",{staticClass:"form-group"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.postForm.summary,expression:"postForm.summary"}],staticClass:"form-control",attrs:{type:"text",id:"post_summary",placeholder:"摘要"},domProps:{value:t.postForm.summary},on:{input:function(e){e.target.composing||t.$set(t.postForm,"summary",e.target.value)}}})]),t._v(" "),n("div",{staticClass:"form-group"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.postForm.body,expression:"postForm.body"}],staticClass:"form-control",attrs:{id:"post_body",rows:"5"},domProps:{value:t.postForm.body},on:{input:function(e){e.target.composing||t.$set(t.postForm,"body",e.target.value)}}}),t._v(" "),n("div",{staticClass:"invalid-feedback"},[t._v(t._s(t.postForm.bodyError))])]),t._v(" "),n("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("Submit")])]):t._e()])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[this._v("Update Post")]),this._v(" "),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[this._v("Cancel")]),this._v(" "),e("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[this._v("Update")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"modal-header"},[e("h5",{staticClass:"modal-title",attrs:{id:"modalDeleteLabel"}},[this._v("Delete")]),this._v(" "),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"dropdown"},[e("div",{attrs:{id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[e("i",{staticClass:"fa fa-bars"})]),this._v(" "),e("div",{staticClass:"dropdown-menu dropdown-menu-right",attrs:{"aria-labelledby":"dropdownMenuButton"}},[e("a",{staticClass:"dropdown-item",attrs:{href:"#"}},[this._v("haha")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"mb-4 border-bottom"},[e("div",{staticClass:"h5 d-inline-block"},[this._v("发表文章")])])}]},r=n("VU/8")(i.a,s,!1,null,null,null);e.default=r.exports},pDqP:function(t,e,n){"use strict";(function(t,e){var i=n("pFYg"),s=n.n(i);(function(){var t={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:h,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:h,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n(?!def)[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:h,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/};function i(e){this.tokens=[],this.tokens.links={},this.options=e||p.defaults,this.rules=t.normal,this.options.gfm&&(this.options.tables?this.rules=t.tables:this.rules=t.gfm)}t.bullet=/(?:[*+-]|\d+\.)/,t.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,t.item=d(t.item,"gm")(/bull/g,t.bullet)(),t.list=d(t.list)(/bull/g,t.bullet)("hr","\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))")("def","\\n+(?="+t.def.source+")")(),t.blockquote=d(t.blockquote)("def",t.def)(),t._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b",t.html=d(t.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,t._tag)(),t.paragraph=d(t.paragraph)("hr",t.hr)("heading",t.heading)("lheading",t.lheading)("blockquote",t.blockquote)("tag","<"+t._tag)("def",t.def)(),t.normal=u({},t),t.gfm=u({},t.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\s*\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),t.gfm.paragraph=d(t.paragraph)("(?!","(?!"+t.gfm.fences.source.replace("\\1","\\2")+"|"+t.list.source.replace("\\1","\\3")+"|")(),t.tables=u({},t.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),i.rules=t,i.lex=function(t,e){return new i(e).lex(t)},i.prototype.lex=function(t){return t=t.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(t,!0)},i.prototype.token=function(e,n,i){var s,r,o,a,l,c,d,h,u;for(e=e.replace(/^ +$/gm,"");e;)if((o=this.rules.newline.exec(e))&&(e=e.substring(o[0].length),o[0].length>1&&this.tokens.push({type:"space"})),o=this.rules.code.exec(e))e=e.substring(o[0].length),o=o[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?o:o.replace(/\n+$/,"")});else if(o=this.rules.fences.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"code",lang:o[2],text:o[3]||""});else if(o=this.rules.heading.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"heading",depth:o[1].length,text:o[2]});else if(n&&(o=this.rules.nptable.exec(e))){for(e=e.substring(o[0].length),c={type:"table",header:o[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3].replace(/\n$/,"").split("\n")},h=0;h<c.align.length;h++)/^ *-+: *$/.test(c.align[h])?c.align[h]="right":/^ *:-+: *$/.test(c.align[h])?c.align[h]="center":/^ *:-+ *$/.test(c.align[h])?c.align[h]="left":c.align[h]=null;for(h=0;h<c.cells.length;h++)c.cells[h]=c.cells[h].split(/ *\| */);this.tokens.push(c)}else if(o=this.rules.lheading.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"heading",depth:"="===o[2]?1:2,text:o[1]});else if(o=this.rules.hr.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"hr"});else if(o=this.rules.blockquote.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"blockquote_start"}),o=o[0].replace(/^ *> ?/gm,""),this.token(o,n,!0),this.tokens.push({type:"blockquote_end"});else if(o=this.rules.list.exec(e)){for(e=e.substring(o[0].length),a=o[2],this.tokens.push({type:"list_start",ordered:a.length>1}),s=!1,u=(o=o[0].match(this.rules.item)).length,h=0;h<u;h++)d=(c=o[h]).length,~(c=c.replace(/^ *([*+-]|\d+\.) +/,"")).indexOf("\n ")&&(d-=c.length,c=this.options.pedantic?c.replace(/^ {1,4}/gm,""):c.replace(new RegExp("^ {1,"+d+"}","gm"),"")),this.options.smartLists&&h!==u-1&&(a===(l=t.bullet.exec(o[h+1])[0])||a.length>1&&l.length>1||(e=o.slice(h+1).join("\n")+e,h=u-1)),r=s||/\n\n(?!\s*$)/.test(c),h!==u-1&&(s="\n"===c.charAt(c.length-1),r||(r=s)),this.tokens.push({type:r?"loose_item_start":"list_item_start"}),this.token(c,!1,i),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(o=this.rules.html.exec(e))e=e.substring(o[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===o[1]||"script"===o[1]||"style"===o[1]),text:o[0]});else if(!i&&n&&(o=this.rules.def.exec(e)))e=e.substring(o[0].length),this.tokens.links[o[1].toLowerCase()]={href:o[2],title:o[3]};else if(n&&(o=this.rules.table.exec(e))){for(e=e.substring(o[0].length),c={type:"table",header:o[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:o[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:o[3].replace(/(?: *\| *)?\n$/,"").split("\n")},h=0;h<c.align.length;h++)/^ *-+: *$/.test(c.align[h])?c.align[h]="right":/^ *:-+: *$/.test(c.align[h])?c.align[h]="center":/^ *:-+ *$/.test(c.align[h])?c.align[h]="left":c.align[h]=null;for(h=0;h<c.cells.length;h++)c.cells[h]=c.cells[h].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(c)}else if(n&&(o=this.rules.paragraph.exec(e)))e=e.substring(o[0].length),this.tokens.push({type:"paragraph",text:"\n"===o[1].charAt(o[1].length-1)?o[1].slice(0,-1):o[1]});else if(o=this.rules.text.exec(e))e=e.substring(o[0].length),this.tokens.push({type:"text",text:o[0]});else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return this.tokens};var r={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ >]+(@|:\/)[^ >]+)>/,url:h,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:[^_]|__)+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:h,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/};function o(t,e){if(this.options=e||p.defaults,this.links=t,this.rules=r.normal,this.renderer=this.options.renderer||new a,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.gfm?this.options.breaks?this.rules=r.breaks:this.rules=r.gfm:this.options.pedantic&&(this.rules=r.pedantic)}function a(t){this.options=t||{}}function l(t){this.tokens=[],this.token=null,this.options=t||p.defaults,this.options.renderer=this.options.renderer||new a,this.renderer=this.options.renderer,this.renderer.options=this.options}function c(t,e){return t.replace(e?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function d(t,e){return t=t.source,e=e||"",function n(i,s){return i?(s=(s=s.source||s).replace(/(^|[^\[])\^/g,"$1"),t=t.replace(i,s),n):new RegExp(t,e)}}function h(){}function u(t){for(var e,n,i=1;i<arguments.length;i++)for(n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}function p(t,e,n){if(n||"function"==typeof e){n||(n=e,e=null);var s,r,o=(e=u({},p.defaults,e||{})).highlight,a=0;try{s=i.lex(t,e)}catch(t){return n(t)}r=s.length;var d=function(t){if(t)return e.highlight=o,n(t);var i;try{i=l.parse(s,e)}catch(e){t=e}return e.highlight=o,t?n(t):n(null,i)};if(!o||o.length<3)return d();if(delete e.highlight,!r)return d();for(;a<s.length;a++)!function(t){"code"!==t.type?--r||d():o(t.text,t.lang,function(e,n){return e?d(e):null==n||n===t.text?--r||d():(t.text=n,t.escaped=!0,void(--r||d()))})}(s[a])}else try{return e&&(e=u({},p.defaults,e)),l.parse(i.lex(t,e),e)}catch(t){if(t.message+="\nPlease report this to https://github.com/chjj/marked.",(e||p.defaults).silent)return"<p>An error occured:</p><pre>"+c(t.message+"",!0)+"</pre>";throw t}}r._inside=/(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/,r._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/,r.link=d(r.link)("inside",r._inside)("href",r._href)(),r.reflink=d(r.reflink)("inside",r._inside)(),r.normal=u({},r),r.pedantic=u({},r.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),r.gfm=u({},r.normal,{escape:d(r.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:d(r.text)("]|","~]|")("|","|https?://|")()}),r.breaks=u({},r.gfm,{br:d(r.br)("{2,}","*")(),text:d(r.gfm.text)("{2,}","*")()}),o.rules=r,o.output=function(t,e,n){return new o(e,n).output(t)},o.prototype.output=function(t){for(var e,n,i,s,r="";t;)if(s=this.rules.escape.exec(t))t=t.substring(s[0].length),r+=s[1];else if(s=this.rules.autolink.exec(t))t=t.substring(s[0].length),"@"===s[2]?(n=":"===s[1].charAt(6)?this.mangle(s[1].substring(7)):this.mangle(s[1]),i=this.mangle("mailto:")+n):i=n=c(s[1]),r+=this.renderer.link(i,null,n);else if(this.inLink||!(s=this.rules.url.exec(t))){if(s=this.rules.tag.exec(t))!this.inLink&&/^<a /i.test(s[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(s[0])&&(this.inLink=!1),t=t.substring(s[0].length),r+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(s[0]):c(s[0]):s[0];else if(s=this.rules.link.exec(t))t=t.substring(s[0].length),this.inLink=!0,r+=this.outputLink(s,{href:s[2],title:s[3]}),this.inLink=!1;else if((s=this.rules.reflink.exec(t))||(s=this.rules.nolink.exec(t))){if(t=t.substring(s[0].length),e=(s[2]||s[1]).replace(/\s+/g," "),!(e=this.links[e.toLowerCase()])||!e.href){r+=s[0].charAt(0),t=s[0].substring(1)+t;continue}this.inLink=!0,r+=this.outputLink(s,e),this.inLink=!1}else if(s=this.rules.strong.exec(t))t=t.substring(s[0].length),r+=this.renderer.strong(this.output(s[2]||s[1]));else if(s=this.rules.em.exec(t))t=t.substring(s[0].length),r+=this.renderer.em(this.output(s[2]||s[1]));else if(s=this.rules.code.exec(t))t=t.substring(s[0].length),r+=this.renderer.codespan(c(s[2],!0));else if(s=this.rules.br.exec(t))t=t.substring(s[0].length),r+=this.renderer.br();else if(s=this.rules.del.exec(t))t=t.substring(s[0].length),r+=this.renderer.del(this.output(s[1]));else if(s=this.rules.text.exec(t))t=t.substring(s[0].length),r+=this.renderer.text(c(this.smartypants(s[0])));else if(t)throw new Error("Infinite loop on byte: "+t.charCodeAt(0))}else t=t.substring(s[0].length),i=n=c(s[1]),r+=this.renderer.link(i,null,n);return r},o.prototype.outputLink=function(t,e){var n=c(e.href),i=e.title?c(e.title):null;return"!"!==t[0].charAt(0)?this.renderer.link(n,i,this.output(t[1])):this.renderer.image(n,i,c(t[1]))},o.prototype.smartypants=function(t){return this.options.smartypants?t.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…"):t},o.prototype.mangle=function(t){if(!this.options.mangle)return t;for(var e,n="",i=t.length,s=0;s<i;s++)e=t.charCodeAt(s),Math.random()>.5&&(e="x"+e.toString(16)),n+="&#"+e+";";return n},a.prototype.code=function(t,e,n){if(this.options.highlight){var i=this.options.highlight(t,e);null!=i&&i!==t&&(n=!0,t=i)}return e?'<pre><code class="'+this.options.langPrefix+c(e,!0)+'">'+(n?t:c(t,!0))+"\n</code></pre>\n":"<pre><code>"+(n?t:c(t,!0))+"\n</code></pre>"},a.prototype.blockquote=function(t){return"<blockquote>\n"+t+"</blockquote>\n"},a.prototype.html=function(t){return t},a.prototype.heading=function(t,e,n){return"<h"+e+' id="'+this.options.headerPrefix+n.toLowerCase().replace(/[^\w]+/g,"-")+'">'+t+"</h"+e+">\n"},a.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},a.prototype.list=function(t,e){var n=e?"ol":"ul";return"<"+n+">\n"+t+"</"+n+">\n"},a.prototype.listitem=function(t){return"<li>"+t+"</li>\n"},a.prototype.paragraph=function(t){return"<p>"+t+"</p>\n"},a.prototype.table=function(t,e){return"<table>\n<thead>\n"+t+"</thead>\n<tbody>\n"+e+"</tbody>\n</table>\n"},a.prototype.tablerow=function(t){return"<tr>\n"+t+"</tr>\n"},a.prototype.tablecell=function(t,e){var n=e.header?"th":"td";return(e.align?"<"+n+' style="text-align:'+e.align+'">':"<"+n+">")+t+"</"+n+">\n"},a.prototype.strong=function(t){return"<strong>"+t+"</strong>"},a.prototype.em=function(t){return"<em>"+t+"</em>"},a.prototype.codespan=function(t){return"<code>"+t+"</code>"},a.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},a.prototype.del=function(t){return"<del>"+t+"</del>"},a.prototype.link=function(t,e,n){if(this.options.sanitize){try{var i=decodeURIComponent((s=t,s.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/g,function(t,e){return"colon"===(e=e.toLowerCase())?":":"#"===e.charAt(0)?"x"===e.charAt(1)?String.fromCharCode(parseInt(e.substring(2),16)):String.fromCharCode(+e.substring(1)):""}))).replace(/[^\w:]/g,"").toLowerCase()}catch(t){return""}if(0===i.indexOf("javascript:")||0===i.indexOf("vbscript:")||0===i.indexOf("data:"))return""}var s,r='<a href="'+t+'"';return e&&(r+=' title="'+e+'"'),r+=">"+n+"</a>"},a.prototype.image=function(t,e,n){var i='<img src="'+t+'" alt="'+n+'"';return e&&(i+=' title="'+e+'"'),i+=this.options.xhtml?"/>":">"},a.prototype.text=function(t){return t},l.parse=function(t,e,n){return new l(e,n).parse(t)},l.prototype.parse=function(t){this.inline=new o(t.links,this.options,this.renderer),this.tokens=t.reverse();for(var e="";this.next();)e+=this.tok();return e},l.prototype.next=function(){return this.token=this.tokens.pop()},l.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},l.prototype.parseText=function(){for(var t=this.token.text;"text"===this.peek().type;)t+="\n"+this.next().text;return this.inline.output(t)},l.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,this.token.text);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var t,e,n,i,s="",r="";for(n="",t=0;t<this.token.header.length;t++)({header:!0,align:this.token.align[t]}),n+=this.renderer.tablecell(this.inline.output(this.token.header[t]),{header:!0,align:this.token.align[t]});for(s+=this.renderer.tablerow(n),t=0;t<this.token.cells.length;t++){for(e=this.token.cells[t],n="",i=0;i<e.length;i++)n+=this.renderer.tablecell(this.inline.output(e[i]),{header:!1,align:this.token.align[i]});r+=this.renderer.tablerow(n)}return this.renderer.table(s,r);case"blockquote_start":for(r="";"blockquote_end"!==this.next().type;)r+=this.tok();return this.renderer.blockquote(r);case"list_start":r="";for(var o=this.token.ordered;"list_end"!==this.next().type;)r+=this.tok();return this.renderer.list(r,o);case"list_item_start":for(r="";"list_item_end"!==this.next().type;)r+="text"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(r);case"loose_item_start":for(r="";"list_item_end"!==this.next().type;)r+=this.tok();return this.renderer.listitem(r);case"html":var a=this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text);return this.renderer.html(a);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}},h.exec=h,p.options=p.setOptions=function(t){return u(p.defaults,t),p},p.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,sanitizer:null,mangle:!0,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new a,xhtml:!1},p.Parser=l,p.parser=l.parse,p.Renderer=a,p.Lexer=i,p.lexer=i.lex,p.InlineLexer=o,p.inlineLexer=o.output,p.parse=p,void 0!==e&&"object"===("undefined"==typeof exports?"undefined":s()(exports))?e.exports=p:"function"==typeof define&&n("nErl")?define(function(){return p}):this.marked=p}).call(function(){return this||("undefined"!=typeof window?window:t)}())}).call(e,n("DuR2"),n("f1Eh")(t))},woOf:function(t,e,n){t.exports={default:n("V3tA"),__esModule:!0}}});
//# sourceMappingURL=0.227aad34cfbc6d32814a.js.map