{"version":3,"sources":["webpack:///src/components/Profile/Following.vue","webpack:///./src/components/Profile/Following.vue?bb67","webpack:///./src/components/Profile/Following.vue","webpack:///src/components/Base/Member.vue","webpack:///./src/components/Base/Member.vue?c1d9","webpack:///./src/components/Base/Member.vue"],"names":["Following","data","user","followeds","components","member","methods","onFollowUser","followed","_this","this","path","id","$axios","get","then","res","_getUserFolloweds","$route","params","onUnfolloweUser","_this2","_getUser","_this3","catch","e","console","error","_this4","page","per_page","query","payload","created","userid","beforeRouteUpdate","to","from","next","Profile_Following","render","_vm","_h","$createElement","_c","_self","staticClass","_v","_s","_meta","total_items","total_pages","_m","_l","index","key","attrs","on","follow-user","$event","unfollow-user","staticRenderFns","data-toggle","aria-haspopup","aria-expanded","aria-labelledby","href","Component","__webpack_require__","normalizeComponent","__webpack_exports__","Member","name","props","shareState","store","state","Base_Member","staticStyle","width","height","src","_links","avatar","alt","font-size","username","followeds_count","followers_count","$moment","timestamp","format","user_id","click","$emit","is_following","_e"],"mappings":"2GA6BAA,GACAC,KADA,WAEA,OACAC,KAAA,GACAC,UAAA,KAGAC,YACAC,iBAAA,GAEAC,SACAC,aADA,SACAC,GAAA,IAAAC,EAAAC,KACAC,EAAA,WAAAH,EAAAI,GACAF,KAAAG,OAAAC,IAAAH,GAAAI,KAAA,SAAAC,GACAP,EAAAQ,kBAAAR,EAAAS,OAAAC,OAAAP,OAGAQ,gBAPA,SAOAZ,GAAA,IAAAa,EAAAX,KACAC,EAAA,aAAAH,EAAAI,GACAF,KAAAG,OAAAC,IAAAH,GAAAI,KAAA,SAAAC,GACAK,EAAAJ,kBAAAI,EAAAH,OAAAC,OAAAP,OAGAU,SAbA,SAaAV,GAAA,IAAAW,EAAAb,KACAC,EAAA,UAAAC,EACAF,KAAAG,OAAAC,IAAAH,GAAAI,KAAA,SAAAC,GAEAO,EAAArB,KAAAc,EAAAf,OACAuB,MAAA,SAAAC,GACAC,QAAAC,MAAAF,MAGAR,kBAtBA,SAsBAL,GAAA,IAAAgB,EAAAlB,KAEAmB,EAAA,EACAC,EAAA,OACA,IAAApB,KAAAQ,OAAAa,MAAAF,OACAA,EAAAnB,KAAAQ,OAAAa,MAAAF,WAEA,IAAAnB,KAAAQ,OAAAa,MAAAD,WACAA,EAAApB,KAAAQ,OAAAa,MAAAD,UAIA,IAAAnB,EAAA,UAAAC,EAAA,cACAoB,GACAH,OACAC,YAEApB,KAAAG,OAAAC,IAAAH,GACAQ,OAAAa,IACAjB,KAAA,SAAAC,GAEAY,EAAAzB,UAAAa,EAAAf,OACAuB,MAAA,SAAAC,GACAC,QAAAC,MAAAF,OAIAQ,QAAA,WACA,IAAAC,EAAAxB,KAAAQ,OAAAC,OAAAP,GACAF,KAAAY,SAAAY,GACAxB,KAAAO,kBAAAiB,IAEAC,kBAhEA,SAgEAC,EAAAC,EAAAC,GACAA,IACA5B,KAAAY,SAAAc,EAAAjB,OAAAP,IACAF,KAAAO,kBAAAmB,EAAAjB,OAAAP,MC7Fe2B,GADEC,OAFjB,WAA0B,IAAAC,EAAA/B,KAAagC,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,4BAAsCF,EAAA,OAAYE,YAAA,yFAAmGF,EAAA,OAAYE,YAAA,eAAyBF,EAAA,KAAUE,YAAA,uBAAiCL,EAAAM,GAAA,2BAAAH,EAAA,SAAgDE,YAAA,uBAAiCL,EAAAM,GAAA,KAAAN,EAAAO,GAAAP,EAAAtC,UAAAsC,EAAAtC,UAAA8C,MAAAC,YAAA,SAAAT,EAAAO,GAAAP,EAAAtC,UAAAsC,EAAAtC,UAAA8C,MAAAE,YAAA,cAAAV,EAAAM,GAAA,KAAAN,EAAAW,GAAA,KAAAX,EAAAM,GAAA,KAAAN,EAAAY,GAAAZ,EAAAtC,UAAA,eAAAK,EAAA8C,GAAyO,OAAAV,EAAA,UAAoBW,IAAAD,EAAAE,OAAiBnD,OAAAG,GAAkBiD,IAAKC,cAAA,SAAAC,GAA+B,OAAAlB,EAAAlC,aAAAC,IAAkCoD,gBAAA,SAAAD,GAAkC,OAAAlB,EAAArB,gBAAAZ,UAAyC,IAEh0BqD,iBADjB,WAAoC,IAAanB,EAAbhC,KAAaiC,eAA0BC,EAAvClC,KAAuCmC,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,aAAuBF,EAAA,OAAYY,OAAO5C,GAAA,qBAAAkD,cAAA,WAAAC,gBAAA,OAAAC,gBAAA,WAAmGpB,EAAA,KAAUE,YAAA,iBAAvOpC,KAAgQqC,GAAA,KAAAH,EAAA,OAA0BE,YAAA,oCAAAU,OAAuDS,kBAAA,wBAAwCrB,EAAA,KAAUE,YAAA,gBAAAU,OAAmCU,KAAA,OAAtaxD,KAAkbqC,GAAA,iBCatdoB,EAdyBC,EAAQ,OAcjCC,CACErE,EACAuC,GATF,EAEA,KAEA,KAEA,MAUe+B,EAAA,QAAAH,EAAiB,2DCEhCI,GACAC,KAAA,SACAC,OAAA,UACAxE,KAHA,WAIA,OACAyE,WAAAC,EAAA,EAAAC,SC3BeC,GADErC,OAFjB,WAA0B,IAAAC,EAAA/B,KAAagC,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,uDAAiEF,EAAA,eAAoBY,OAAOpB,IAAMzB,KAAA,SAAA8B,EAAApC,OAAA,OAAoCuC,EAAA,OAAYE,YAAA,OAAAgC,aAAgCC,MAAA,OAAAC,OAAA,QAA+BxB,OAAQyB,IAAAxC,EAAApC,OAAA6E,OAAAC,OAAAC,IAAA,QAAyC3C,EAAAM,GAAA,KAAAH,EAAA,OAA0BE,YAAA,oBAAAgC,aAA6CO,YAAA,WAAqBzC,EAAA,OAAYE,YAAA,mEAA6EF,EAAA,QAAaE,YAAA,kCAA4CL,EAAAM,GAAAN,EAAAO,GAAAP,EAAApC,OAAAiF,UAAA7C,EAAApC,OAAAmE,SAAA/B,EAAAM,GAAA,KAAAH,EAAA,QAAgFE,YAAA,uBAAiCL,EAAAM,GAAA,MAAAN,EAAAO,GAAAP,EAAApC,OAAAkF,iBAAA,OAAA9C,EAAAM,GAAA,KAAAH,EAAA,QAAgFE,YAAA,sBAAgCL,EAAAM,GAAA,MAAAN,EAAAO,GAAAP,EAAApC,OAAAmF,sBAAA/C,EAAAM,GAAA,KAAAH,EAAA,KAA2EE,YAAA,SAAmBF,EAAA,UAAeE,YAAA,QAAkBL,EAAAM,GAAA,WAAAH,EAAA,QAAAH,EAAAM,GAAAN,EAAAO,GAAAP,EAAAgD,QAAAhD,EAAApC,OAAAqF,WAAAC,OAAA,+BAAAlD,EAAAM,GAAA,KAAAN,EAAAvB,OAAAC,OAAAP,IAAA6B,EAAAiC,WAAAkB,QAAAhD,EAAA,OAA0LE,YAAA,8BAAwCL,EAAApC,OAAA,aAAAuC,EAAA,UAAyCE,YAAA,kBAAAW,IAAkCoC,MAAA,SAAAlC,GAAyB,OAAAlB,EAAAqD,MAAA,qBAAoCrD,EAAAM,GAAA,UAAAN,EAAApC,OAAA0F,cAAAtD,EAAAiC,WAAAkB,SAAAnD,EAAApC,OAAAO,GAAmM6B,EAAAuD,KAAnMpD,EAAA,UAAsGE,YAAA,kBAAAW,IAAkCoC,MAAA,SAAAlC,GAAyB,OAAAlB,EAAAqD,MAAA,mBAAkCrD,EAAAM,GAAA,UAAAN,EAAAuD,MAAA,IAEt9CnC,oBCYjBM,EAdyBC,EAAQ,OAcjCC,CACEE,EACAM,GATF,EAEA,KAEA,KAEA,MAUeP,EAAA,EAAAH,EAAiB","file":"static/js/9.67e6a8e266643af12ca7.js","sourcesContent":["<template>\r\n    <div class=\"card border-0 mb-3 mt-3\">\r\n        <!-- 列表头部 -->\r\n        <div class=\"card-header d-flex align-items-center justify-content-between bg-light border-0 mb-3\">\r\n            <div class=\"float-left\"> <!-- posts总览 -->\r\n                <i class=\"fa fa-commenting-o\"></i>\r\n                All Posts<small class=\"font-weight-normal\">（共{{followeds?followeds._meta.total_items:''}}个，{{followeds?followeds._meta.total_pages:''}}页）</small>\r\n            </div>\r\n            <div class=\"dropdown\"> <!-- 其他选择，弹出选项 -->\r\n                <div class=\"\" id=\"dropdownMenuButton\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\r\n                    <i class=\"fa fa-bars\"></i>\r\n                </div>\r\n                <div class=\"dropdown-menu dropdown-menu-right\" aria-labelledby=\"dropdownMenuButton\">\r\n                    <a href=\"#\" class=\"dropdown-item\">haha</a>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <!-- 列表body -->\r\n        <member\r\n            v-for=\"(followed,index) in followeds.items\" :key=\"index\"\r\n            :member=\"followed\"\r\n            @follow-user=\"onFollowUser(followed)\"\r\n            @unfollow-user=\"onUnfolloweUser(followed)\"\r\n        ></member>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport Member from '../Base/Member'\r\nexport default {\r\n    data(){\r\n        return {\r\n            user:'',\r\n            followeds:''\r\n        }\r\n    },\r\n    components:{\r\n        'member':Member\r\n    },\r\n    methods:{\r\n        onFollowUser(followed){\r\n            const path = `/follow/${followed.id}`\r\n            this.$axios.get(path).then(res=>{\r\n                this._getUserFolloweds(this.$route.params.id)\r\n            })\r\n        },\r\n        onUnfolloweUser(followed){\r\n            const path = `/unfollow/${followed.id}`\r\n            this.$axios.get(path).then(res=>{\r\n                this._getUserFolloweds(this.$route.params.id)\r\n            })\r\n        },\r\n        _getUser(id){\r\n            const path = `/users/${id}`\r\n            this.$axios.get(path).then(res=>{\r\n                // console.log('user: ',res.data)\r\n                this.user = res.data\r\n            }).catch(e=>{\r\n                console.error(e)\r\n            })\r\n        },\r\n        _getUserFolloweds(id){\r\n            //构造默认page和per_page\r\n            let page = 1\r\n            let per_page = 5\r\n            if(typeof this.$route.query.page!='undefined'){\r\n                page = this.$route.query.page\r\n            }\r\n            if(typeof this.$route.query.per_page != 'undefined'){\r\n                per_page = this.$route.query.per_page\r\n            }\r\n            // const path = `/users/${id}/followers/?page=${page}&per_page=${per_page}`\r\n\r\n            const path = `/users/${id}/followeds/`\r\n            let payload = {\r\n                page:page,\r\n                per_page:per_page\r\n            }\r\n            this.$axios.get(path,{\r\n                params:payload\r\n            }).then(res=>{\r\n                // console.log('followeds',res)\r\n                this.followeds = res.data\r\n            }).catch(e=>{\r\n                console.error(e)\r\n            })\r\n        }\r\n    },\r\n    created:function(){\r\n        let userid = this.$route.params.id\r\n        this._getUser(userid)\r\n        this._getUserFolloweds(userid)\r\n    },\r\n    beforeRouteUpdate(to,from,next){\r\n        next()\r\n        this._getUser(to.params.id)\r\n        this._getUserFolloweds(to.params.id)\r\n\r\n    }\r\n}\r\n</script>\n\n\n// WEBPACK FOOTER //\n// src/components/Profile/Following.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card border-0 mb-3 mt-3\"},[_c('div',{staticClass:\"card-header d-flex align-items-center justify-content-between bg-light border-0 mb-3\"},[_c('div',{staticClass:\"float-left\"},[_c('i',{staticClass:\"fa fa-commenting-o\"}),_vm._v(\"\\n            All Posts\"),_c('small',{staticClass:\"font-weight-normal\"},[_vm._v(\"（共\"+_vm._s(_vm.followeds?_vm.followeds._meta.total_items:'')+\"个，\"+_vm._s(_vm.followeds?_vm.followeds._meta.total_pages:'')+\"页）\")])]),_vm._v(\" \"),_vm._m(0)]),_vm._v(\" \"),_vm._l((_vm.followeds.items),function(followed,index){return _c('member',{key:index,attrs:{\"member\":followed},on:{\"follow-user\":function($event){return _vm.onFollowUser(followed)},\"unfollow-user\":function($event){return _vm.onUnfolloweUser(followed)}}})})],2)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"dropdown\"},[_c('div',{attrs:{\"id\":\"dropdownMenuButton\",\"data-toggle\":\"dropdown\",\"aria-haspopup\":\"true\",\"aria-expanded\":\"false\"}},[_c('i',{staticClass:\"fa fa-bars\"})]),_vm._v(\" \"),_c('div',{staticClass:\"dropdown-menu dropdown-menu-right\",attrs:{\"aria-labelledby\":\"dropdownMenuButton\"}},[_c('a',{staticClass:\"dropdown-item\",attrs:{\"href\":\"#\"}},[_vm._v(\"haha\")])])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-57a2653d\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Profile/Following.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Following.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Following.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-57a2653d\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Following.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Profile/Following.vue\n// module id = null\n// module chunks = ","<template>\r\n    <div class=\"card-body border d-flex justify-content-start mb-2\">\r\n        <router-link :to=\"{path:`/user/${member.id}`}\">\r\n            <img :src=\"member._links.avatar\" alt=\"\" class=\"mr-3\" style=\"width:50px; height:50px;\">\r\n        </router-link>\r\n        \r\n        <div class=\"align-self-center\" style=\"font-size:0.9em;\">\r\n            <div class=\"d-flex flex-wrap justify-content-start mb-2 align-items-center\">\r\n                <span class=\"h6 mr-2 mb-0 font-weight-bold\">{{member.username||member.name}}</span>\r\n                <span class=\"small text-primary\">关注 {{member.followeds_count}}，</span> \r\n                <span class=\"small text-danger\">粉丝 {{member.followers_count}}</span>\r\n            </div>\r\n            <p class=\"mb-0\" >\r\n                <strong class=\"m-0\">关注时间：</strong><span>{{$moment(member.timestamp).format('YYYY/MM/DD HH:mm:ss')}}</span>\r\n            </p>\r\n        </div>\r\n        <div class=\"align-self-center ml-auto\" v-if=\"$route.params.id==shareState.user_id\">\r\n            <button v-if=\"member.is_following\" class=\"btn btn-primary\" @click=\"$emit('unfollow-user')\">取消关注</button>\r\n            <button v-else-if=\"!member.is_following && shareState.user_id != member.id\" class=\"btn btn-primary\" @click=\"$emit('follow-user')\">关注</button>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport store from '../../store'\r\nexport default {\r\n    name:'Member',\r\n    props:['member'],\r\n    data(){\r\n        return {\r\n            shareState:store.state\r\n        }\r\n    }\r\n}\r\n</script>\n\n\n// WEBPACK FOOTER //\n// src/components/Base/Member.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"card-body border d-flex justify-content-start mb-2\"},[_c('router-link',{attrs:{\"to\":{path:(\"/user/\" + (_vm.member.id))}}},[_c('img',{staticClass:\"mr-3\",staticStyle:{\"width\":\"50px\",\"height\":\"50px\"},attrs:{\"src\":_vm.member._links.avatar,\"alt\":\"\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"align-self-center\",staticStyle:{\"font-size\":\"0.9em\"}},[_c('div',{staticClass:\"d-flex flex-wrap justify-content-start mb-2 align-items-center\"},[_c('span',{staticClass:\"h6 mr-2 mb-0 font-weight-bold\"},[_vm._v(_vm._s(_vm.member.username||_vm.member.name))]),_vm._v(\" \"),_c('span',{staticClass:\"small text-primary\"},[_vm._v(\"关注 \"+_vm._s(_vm.member.followeds_count)+\"，\")]),_vm._v(\" \"),_c('span',{staticClass:\"small text-danger\"},[_vm._v(\"粉丝 \"+_vm._s(_vm.member.followers_count))])]),_vm._v(\" \"),_c('p',{staticClass:\"mb-0\"},[_c('strong',{staticClass:\"m-0\"},[_vm._v(\"关注时间：\")]),_c('span',[_vm._v(_vm._s(_vm.$moment(_vm.member.timestamp).format('YYYY/MM/DD HH:mm:ss')))])])]),_vm._v(\" \"),(_vm.$route.params.id==_vm.shareState.user_id)?_c('div',{staticClass:\"align-self-center ml-auto\"},[(_vm.member.is_following)?_c('button',{staticClass:\"btn btn-primary\",on:{\"click\":function($event){return _vm.$emit('unfollow-user')}}},[_vm._v(\"取消关注\")]):(!_vm.member.is_following && _vm.shareState.user_id != _vm.member.id)?_c('button',{staticClass:\"btn btn-primary\",on:{\"click\":function($event){return _vm.$emit('follow-user')}}},[_vm._v(\"关注\")]):_vm._e()]):_vm._e()],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-b60a3ce2\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/Base/Member.vue\n// module id = null\n// module chunks = ","var normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Member.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Member.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-b60a3ce2\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Member.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/Base/Member.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}