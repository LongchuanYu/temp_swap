webpackJsonp([6],{"2S4+":function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e("olkN"),n={data:function(){return{sharestate:a.a.state,user:{id:"",email:"",username:"",name:"",location:"",about_me:"",member_since:"",last_seen:"",followeds_count:0,followers_count:0,posts_count:0,followed_posts_count:0,_links:{self:"",avatar:""}}}},computed:{isUserOverView:function(){return-1==["UserFollowers","UserFollowing","UserPostsList","UserFollowedsPostsList"].indexOf(this.$route.name)?"active":""}},methods:{onFollowUser:function(t){var s=this,e="/follow/"+t;this.$axios.get(e).then(function(e){console.log("关注ok"),s.getUser(t)}).catch(function(t){console.error(t)})},onUnfollowUser:function(t){var s=this,e="/unfollow/"+t;this.$axios.get(e).then(function(e){console.log("取消ok"),s.getUser(t)}).catch(function(t){console.error(t)})},getUser:function(t){var s=this;this.$axios.get("/users/"+t).then(function(t){console.log(t),s.user=t.data}).catch(function(t){console.log(t)})}},created:function(){var t=this.$route.params.id;"0"==t&&(t=this.sharestate.user_id,this.$router.replace("/user/"+t)),this.getUser(t)},beforeRouteUpdate:function(t,s,e){e(),this.getUser(t.params.id)}},i={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("section",[e("div",{staticClass:"container"},[e("div",{staticClass:"border p-3"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-3"},[e("div",{staticClass:"avatar pb-3"},[e("img",{staticClass:"rounded img-fluid w-100",attrs:{src:t.user._links.avatar,alt:""}})]),t._v(" "),t.sharestate.user_id==t.$route.params.id?e("router-link",{attrs:{to:{name:"SettingProfile"}}},[e("button",{staticClass:"btn btn-outline-primary w-100 mb-2",attrs:{type:"button"}},[t._v("Settings")])]):t._e(),t._v(" "),t.sharestate.user_id==t.$route.params.id?e("button",{staticClass:"btn btn-outline-danger w-100 mb-5",attrs:{type:"button"}},[t._v("Delete Account")]):t._e(),t._v(" "),t.sharestate.user_id!=t.$route.params.id&&t.user.is_following?e("button",{staticClass:"btn btn-outline-primary w-100 mb-5",attrs:{type:"button"},on:{click:function(s){return t.onUnfollowUser(t.$route.params.id)}}},[t._v("取消关注")]):t.sharestate.user_id==t.$route.params.id||t.user.is_following?t._e():e("button",{staticClass:"btn btn-outline-primary w-100 mb-5",attrs:{type:"button"},on:{click:function(s){return t.onFollowUser(t.$route.params.id)}}},[t._v("关注")])],1),t._v(" "),e("div",{staticClass:"col-sm-9"},[e("ul",{staticClass:"nav nav-tabs"},[e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",class:t.isUserOverView,attrs:{to:{name:"UserOverview"},"active-class":"active",href:"#"}},[t._v("个人资料")])],1),t._v(" "),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{to:{name:"UserFollowers"},"active-class":"active",href:"#"}},[t._v("\n                粉丝\n                "),e("span",{staticClass:"badge badge-pill badge-danger ml-1"},[t._v(t._s(t.user.followers_count))])])],1),t._v(" "),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{to:{name:"UserFollowing"},"active-class":"active",href:"#"}},[t._v("\n                关注\n                "),e("span",{staticClass:"badge badge-pill badge-danger ml-1"},[t._v(t._s(t.user.followeds_count))])])],1),t._v(" "),e("li",{staticClass:"nav-item"},[e("router-link",{staticClass:"nav-link",attrs:{to:{name:"Posts"},href:"#","active-class":"active"}},[t._v("\n                我的文章\n                "),e("span",{staticClass:"badge badge-pill badge-danger ml-1"},[t._v(t._s(t.user.posts_count))])])],1),t._v(" "),e("li",{staticClass:"nav-item"},[e("a",{staticClass:"nav-link",attrs:{href:"#","active-class":"active"}},[t._v("\n                关注文章\n                "),e("span",{staticClass:"badge badge-pill badge-danger ml-1"},[t._v(t._s(t.user.followed_posts_count))])])])]),t._v(" "),e("router-view")],1)])])])])},staticRenderFns:[]};var o=e("VU/8")(n,i,!1,function(t){e("tnXq")},"data-v-83ffcbdc",null);s.default=o.exports},tnXq:function(t,s){}});
//# sourceMappingURL=6.bf4caca39c8e3771ac5d.js.map