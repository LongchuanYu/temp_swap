webpackJsonp([3],{LE0X:function(t,e,a){"use strict";e.a=function(t){var e=t.that,a="/users/"+e.shareState.user_id+"/clear-notifications/?type="+t.type;e.$axios.get(a).then(function(t){}).catch(function(t){console.log("ClearCommentsError:",t.response)})}},XMoY:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("olkN"),i=(a("mtWM"),a("LE0X")),n={data:function(){return{shareState:s.a.state,routeName:["RecivedComments","RecivedMessages","Follows","CommentsLikes"],user:{username:"",name:"",_links:{avatar:""}},notifications:{unread_recived_comments_count:0,unread_messages_count:0,unread_follows_count:0,unread_likes_count:0,unread_followeds_posts_count:0}}},computed:{isComments:function(){return"/notifications"===this.$route.path?"active":""}},methods:{_getUser:function(t){var e=this;this.$axios.get("/users/"+t).then(function(t){e.user=t.data}).catch(function(t){console.log(t)})},_getUserNotifications:function(){var t=this,e="/users/"+this.shareState.user_id+"/notifications";this.$axios.get(e).then(function(e){for(var a=0;a<e.data.length;a++)switch(e.data[a].name){case"unread_recived_comments_count":t.notifications.unread_recived_comments_count=e.data[a].payload_json;break;case"unread_follows_count":t.notifications.unread_follows_count=e.data[a].payload_json;break;case"unread_likes_count":t.notifications.unread_likes_count=e.data[a].payload_json}}).catch(function(t){console.log("setInterValError:",t)})}},created:function(){this._getUserNotifications(),this._getUser(this.shareState.user_id)},beforeRouteUpdate:function(t,e,a){if(this.shareState.notifications.leaveRouteName=t.name,e.path!=t.path){var s=this.routeName.indexOf(e.name);-1!=s&&Object(i.a)({that:this,type:s})}a(),this._getUserNotifications()},beforeRouteLeave:function(t,e,a){var s=this.routeName.indexOf(e.name);-1!=s&&Object(i.a)({that:this,type:s}),a()}},o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-3 mb-5"},[a("div",{staticClass:"border p-4",staticStyle:{height:"400px"}},[a("div",{staticClass:"d-flex flex-column justify-content-center align-items-center"},[a("img",{staticClass:"mb-2",staticStyle:{width:"100px",height:"100px","border-radius":"50%"},attrs:{src:t.user._links.avatar,alt:""}}),t._v(" "),a("span",[t._v(t._s(t.user.username||t.user.name))])]),t._v(" "),a("hr"),t._v(" "),a("div",{staticClass:"list-group list-group-flush "},[a("router-link",{staticClass:"list-group-item list-group-item-action border-0 p-2",class:t.isComments,attrs:{to:{name:"RecivedComments"},"active-class":"active",href:"javascript:;"}},[a("i",{staticClass:"fa fa-pencil-square-o mr-2"}),t._v(" 回复我的 \n              "),t.shareState.is_authenticated&&t.notifications.unread_recived_comments_count?a("span",{staticClass:"badge badge-danger g-font-size-dot7 ml-1"},[t._v(t._s(t.notifications.unread_recived_comments_count))]):t._e()]),t._v(" "),a("router-link",{staticClass:"list-group-item list-group-item-action border-0 p-2",attrs:{to:{name:"RecivedMessages"},"active-class":"active",href:"javascript:;"}},[a("i",{staticClass:"fa fa-user-o mr-2"}),t._v(" 私信\n            ")]),t._v(" "),a("router-link",{staticClass:"list-group-item list-group-item-action border-0 p-2",attrs:{to:{name:"Follows"},"active-class":"active",href:"javascript:;"}},[a("i",{staticClass:"fa fa-envelope-o mr-2"}),t._v(" 新粉丝\n              "),t.shareState.is_authenticated&&t.notifications.unread_follows_count?a("span",{staticClass:"badge badge-danger g-font-size-dot7 ml-1"},[t._v(t._s(t.notifications.unread_follows_count))]):t._e()]),t._v(" "),a("router-link",{staticClass:"list-group-item list-group-item-action border-0 p-2",attrs:{to:{name:"CommentsLikes"},"active-class":"active",href:"javascript:;"}},[a("i",{staticClass:"fa fa-bell-o mr-2"}),t._v(" 收到的赞\n              "),t.shareState.is_authenticated&&t.notifications.unread_likes_count?a("span",{staticClass:"badge badge-danger g-font-size-dot7 ml-1"},[t._v(t._s(t.notifications.unread_likes_count))]):t._e()])],1)])]),t._v(" "),a("div",{staticClass:"col-lg-8"},[a("div",{},[a("router-view")],1)])])])},staticRenderFns:[]};var r=a("VU/8")(n,o,!1,function(t){a("e+pI")},"data-v-5dffa133",null);e.default=r.exports},"e+pI":function(t,e){}});
//# sourceMappingURL=3.7a2b051e9d763cf1faea.js.map